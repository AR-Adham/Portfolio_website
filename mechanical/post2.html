<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mechanical Innovation - My Portfolio</title>
  <link rel="stylesheet" href="../style.css"/>
</head>
<body>
  <header>
    <nav class="container nav-bar">
      <div class="nav-left breadcrumb"><a href="../index.html">Adhams Portfolio</a>/<a href="../mechanical.html">mechanical</a>/Mechanical Innovation<span class="cursor"></span></div>
      <ul class="nav-links">
        <li><a href="../index.html">Home</a></li>
        <li><a href="../software.html">Software</a></li>
        <li><a href="../mechanical.html">Mechanical</a></li>
        <li><a href="../index.html#about">About</a></li>
        <li><a href="../index.html#contact">Contact</a></li>
      </ul>
    </nav>
  </header>
  <main class="container projects">
    <article class="post-article">
      <div class="post-image"><img src="../hero.jpg" alt="Post Image"/></div>
      <h1>Mechanical Innovation</h1>

      <!-- Starting paragraph (as provided) -->
      <p>This project is my final project from my grade 12 year, It is a fully designed custom car (excluding electronics and interior). This was designed in CAD using both inventor and solidworks. My primary role was designing the engine, transmission and exhaust. This procces went from initial idea sketches, to calculations on excel, to rapid prototyping and FEA testing on CAD all the way to final modelling and adjustment on our cad model.</p>

      <!-- Image Slideshow (first, middle, last slides are downloadable) -->
      <section class="slideshow" data-autoplay="true" data-interval="3200" aria-roledescription="carousel">
        <div class="slides" role="group" aria-live="polite">
          <!-- 1: FIRST (downloadable) -->
          <figure class="slide">
            <a href="../images/mech_01_full.jpg" download title="Download high-res: mech_01_full.jpg">
              <img src="../images/mech_01.jpg" alt="Concept evolution sketches"/>
            </a>
            <figcaption class="caption">Concept evolution: initial sketches.</figcaption>
          </figure>

          <!-- 2 -->
          <figure class="slide">
            <img src="../images/mech_02.jpg" alt="Spreadsheet with drivetrain and gear ratio calculations"/>
            <figcaption class="caption">Drivetrain sizing & ratio study (Excel).</figcaption>
          </figure>

          <!-- 3: MIDDLE (downloadable) -->
          <figure class="slide">
            <a href="../images/mech_03_full.jpg" download title="Download high-res: mech_03_full.jpg">
              <img src="../images/mech_03.jpg" alt="Inventor assembly of engine and transmission"/>
            </a>
            <figcaption class="caption">Engine + transmission assembly (Inventor).</figcaption>
          </figure>

          <!-- 4 -->
          <figure class="slide">
            <img src="../images/mech_04.jpg" alt="SolidWorks FEA results with stress distribution on bracket"/>
            <figcaption class="caption">FEA stress distribution (SolidWorks).</figcaption>
          </figure>

          <!-- 5: LAST (downloadable) -->
          <figure class="slide">
            <a href="../images/mech_05_full.jpg" download title="Download high-res: mech_05_full.jpg">
              <img src="../images/mech_05.jpg" alt="Final CAD with exploded components"/>
            </a>
            <figcaption class="caption">Final CAD & exploded components.</figcaption>
          </figure>
        </div>

        <!-- Navigation -->
        <button class="nav-btn prev" aria-label="Previous slide">
          <svg viewBox="0 0 24 24" fill="none"><path d="M15 6l-6 6 6 6" stroke="#111" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>
        <button class="nav-btn next" aria-label="Next slide">
          <svg viewBox="0 0 24 24" fill="none"><path d="M9 6l6 6-6 6" stroke="#111" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>

        <div class="dots" role="tablist" aria-label="Slide dots"></div>
      </section>

      <!-- Slideshow styles (kept here to preserve the exact <head> you requested) -->
      <style>
        .slideshow {
          --h: 460px;
          --btn-size: 42px;
          position: relative;
          overflow: hidden;
          border-radius: 16px;
          box-shadow: 0 8px 24px rgba(0,0,0,.12);
          background: #000;
          max-width: 1000px;
          margin: 1.75rem auto;
        }
        .slides { display: flex; transition: transform .5s ease; will-change: transform; height: var(--h); }
        .slide { flex: 0 0 100%; height: var(--h); position: relative; color: #fff; }
        .slide img { width: 100%; height: 100%; object-fit: cover; display:block; }
        .caption {
          position: absolute; inset: auto 0 0 0;
          background: linear-gradient(transparent, rgba(0,0,0,.65));
          color: #fff; padding: .75rem 1rem;
          font: 500 14px/1.4 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
        }
        .nav-btn {
          position: absolute; top: 50%; transform: translateY(-50%);
          width: var(--btn-size); height: var(--btn-size);
          border-radius: 999px; border: none; cursor: pointer;
          background: rgba(255,255,255,.8);
          display: grid; place-items: center;
          transition: background .2s ease, transform .2s ease;
        }
        .nav-btn:hover { background: #fff; transform: translateY(-50%) scale(1.05); }
        .prev { left: .5rem; }
        .next { right: .5rem; }
        .nav-btn svg { width: 22px; height: 22px; }
        .dots {
          position: absolute; left: 50%; transform: translateX(-50%);
          bottom: .5rem; display: flex; gap: .4rem;
          padding: .35rem .5rem; border-radius: 999px;
          background: rgba(0,0,0,.3);
        }
        .dot {
          width: 10px; height: 10px; border-radius: 999px;
          background: rgba(255,255,255,.6); border: none; cursor: pointer;
        }
        .dot[aria-current="true"] { background: #fff; }
        @media (max-width: 640px) {
          .slideshow { --h: 300px; }
          .nav-btn { display: none; }
        }
      </style>

      <!-- Slideshow script (self-contained) -->
      <script>
        (function(){
          const slideshow = document.currentScript.previousElementSibling.previousElementSibling; // the .slideshow section
          const track = slideshow.querySelector('.slides');
          const slides = Array.from(slideshow.querySelectorAll('.slide'));
          const btnPrev = slideshow.querySelector('.prev');
          const btnNext = slideshow.querySelector('.next');

          // Build dots dynamically
          const dotsWrap = document.createElement('div');
          dotsWrap.className = 'dots';
          dotsWrap.setAttribute('role','tablist');
          dotsWrap.setAttribute('aria-label','Slide dots');
          slideshow.appendChild(dotsWrap);

          let index = 0;
          let autoplay = slideshow.getAttribute('data-autoplay') === 'true';
          const interval = parseInt(slideshow.getAttribute('data-interval') || '3500', 10);
          let timer = null;

          slides.forEach((_, i) => {
            const b = document.createElement('button');
            b.className = 'dot';
            b.setAttribute('role','tab');
            b.setAttribute('aria-label', `Go to slide ${i+1}`);
            b.addEventListener('click', () => goTo(i, true));
            dotsWrap.appendChild(b);
          });

          function update() {
            track.style.transform = `translateX(${-index * 100}%)`;
            dotsWrap.querySelectorAll('.dot').forEach((d, i) => {
              d.setAttribute('aria-current', i === index ? 'true' : 'false');
            });
          }

          function goTo(i, pause=false) {
            index = (i + slides.length) % slides.length;
            update();
            if (pause) restart();
          }

          function next(pause=false){ goTo(index + 1, pause); }
          function prev(pause=false){ goTo(index - 1, pause); }

          btnNext.addEventListener('click', () => next(true));
          btnPrev.addEventListener('click', () => prev(true));

          // Keyboard
          slideshow.tabIndex = 0;
          slideshow.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') next(true);
            if (e.key === 'ArrowLeft')  prev(true);
          });

          // Touch/drag
          let startX = 0, dx = 0, dragging = false, pointerId = null;
          track.addEventListener('pointerdown', e => {
            dragging = true; startX = e.clientX; dx = 0; pointerId = e.pointerId;
            track.setPointerCapture(pointerId);
            stop();
          });
          track.addEventListener('pointermove', e => {
            if(!dragging) return;
            dx = e.clientX - startX;
            track.style.transition = 'none';
            track.style.transform = `translateX(calc(${-index*100}% + ${dx}px))`;
          });
          function endDrag(commit=true) {
            if(!dragging) return;
            track.style.transition = '';
            if (commit && Math.abs(dx) > 50) (dx < 0 ? next(true) : prev(true));
            else update();
            dragging = false; dx = 0;
            restart();
            if (pointerId !== null) { try { track.releasePointerCapture(pointerId); } catch(e){} pointerId = null; }
          }
          track.addEventListener('pointerup',   () => endDrag(true));
          track.addEventListener('pointercancel', () => endDrag(false));
          track.addEventListener('pointerleave',  () => endDrag(false));

          // Autoplay
          function start(){ if(!autoplay) return; stop(); timer = setInterval(() => next(false), interval); }
          function stop(){ if(timer){ clearInterval(timer); timer=null; } }
          function restart(){ stop(); start(); }

          // Pause on hover/focus
          slideshow.addEventListener('mouseenter', stop);
          slideshow.addEventListener('mouseleave', start);
          slideshow.addEventListener('focusin', stop);
          slideshow.addEventListener('focusout', start);

          // Init
          update(); start();
        })();
      </script>
    </article>
  </main>
  <footer>
    <div class="container"><p>&copy; 2025 Adham Abdelrahim.</p></div>
  </footer>
  <script src="../script.js"></script>
</body>
</html>
