
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Drone Project - My Portfolio</title>
  <link rel="stylesheet" href="../style.css"/>
  <style>
    /* === PDF slideshow styles === */
    .pdfshow {
      --h: 560px;
      --btn-size: 42px;
      position: relative;
      max-width: 960px;
      margin: 1.5rem auto;
      border-radius: 16px;
      overflow: hidden;
      background: #000;
      box-shadow: 0 8px 24px rgba(0,0,0,.12);
    }
    .pdfstage { display: grid; place-items: center; height: var(--h); background: #000; }
    #pdfCanvas { width: 100%; height: 100%; object-fit: contain; background: #000; }

    .nav-btn {
      position: absolute; top: 50%; transform: translateY(-50%);
      width: var(--btn-size); height: var(--btn-size);
      border-radius: 999px; border: none; cursor: pointer;
      background: rgba(255,255,255,.85);
      display: grid; place-items: center;
      transition: background .2s ease, transform .2s ease;
    }
    .nav-btn:hover { background: #fff; transform: translateY(-50%) scale(1.06); }
    .prev { left: .5rem; }
    .next { right: .5rem; }
    .nav-btn svg { width: 22px; height: 22px; }

    .controls {
      position: absolute; left: 50%; transform: translateX(-50%);
      bottom: .5rem; display: flex; gap: .5rem; align-items: center;
      background: rgba(0,0,0,.35); border-radius: 999px; padding: .35rem .6rem;
      color: #fff; font: 500 14px/1 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    }
    .controls button {
      border: none; border-radius: 999px; padding: .35rem .6rem; cursor: pointer;
      background: rgba(255,255,255,.9);
    }
    .page-indicator { padding: .2rem .5rem; background: rgba(0,0,0,.45); border-radius: 999px; }
    .download { max-width: 960px; margin: 1.25rem auto; }
    .download a { font-weight: 600; text-decoration: none; }
    @media (max-width: 700px) {
      .pdfshow { --h: 420px; }
      .nav-btn { display: none; }
    }

    /* video section */
    .video-demo {
      max-width: 960px;
      margin: 1.5rem auto;
      text-align: center;
    }
    .video-demo video {
      width: 100%;
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(0,0,0,.18);
    }
    .video-demo p {
      margin-top: .6rem;
      font: 500 14px/1.4 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color: #444;
    }

    .error-banner{
      position:absolute; inset:auto 0 0 0; background:#b00020; color:#fff;
      padding:.6rem .9rem; font: 500 14px/1.3 system-ui; text-align:center;
    }
  </style>
</head>
<body>
  <header>
    <nav class="container nav-bar">
      <div class="nav-left breadcrumb"><a href="../index.html">Adhams Portfolio</a>/<a href="../mechanical.html">mechanical</a>/Drone Project<span class="cursor"></span></div>
      <ul class="nav-links">
        <li><a href="../index.html">Home</a></li>
        <li><a href="../software.html">Software</a></li>
        <li><a href="../mechanical.html">Mechanical</a></li>
        <li><a href="../index.html#about">About</a></li>
        <li><a href="../index.html#contact">Contact</a></li>
      </ul>
    </nav>
  </header>

  <main class="container projects">
    <article class="post-article">
      <div class="post-image"><img src="../dronelab.jpg" alt="Post Image"/></div>
      <h1>Drone Project</h1>
      <p>This is my drone project from grade 11 tech design. It was my first large solo project so it came with a large learning curve on alot of diffrent aspects; soft skills like setting my own project scope, requirements and timeline to technichals like understanding electronics layouts and managing weight/size. The project was made using Inventor and was designed to be 3d printed.</p>
      

       <!-- Slideshow (no dots, no drag) -->
      <section class="slideshow" data-autoplay="true" data-interval="3200" aria-roledescription="carousel">
        <div class="slides" role="group" aria-live="polite">


          <!-- 2 -->
          <figure class="slide">
            <img src="../images/drone.png" alt="Powertrain"/>
            <figcaption class="caption">
              <h3 class="subtitle">Drone</h3>
              <p class="desc">This is the final drone design. The drone here has its arms out although they can fold in. We can also see the camera at the bottom of the drone and the wind blocking shield on the sides.</p>
            </figcaption>
          </figure>

          <!-- 3: MIDDLE -->
          <figure class="slide">
            <img src="../images/drone_exploded.png" alt="Inventor engine assembly"/>
            <figcaption class="caption">
              <h3 class="subtitle">Exploded View</h3>
              <p class="desc">Here we can see an exploded view of the drone. We can really see all the details of the drone and its electrics which allow it to work. A big part of this project for me was learning and understanding basic electric system layouts.</p>
            </figcaption>
          </figure>

          <!-- 4 -->
          <figure class="slide">
            <img src="../images/dronearm.png" alt="SolidWorks FEA results"/>
            <figcaption class="caption">
              <h3 class="subtitle">Drone Arms</h3>
              <p class="desc">The arms on the drone are my personal favourite part on this project. It has sleek aesthetics while being extremely lightweight allowing for the perfect amount of strength for its job, The center line on the mesh is actually at and angle to allow for more strength where it is needed, this need was determined using FEA do understand where the stress points where. The little side hole on the back block is a magnet mount so the arm doesn't move during flight while still allowing for the drone to fold up. </p>
            </figcaption>
          </figure>


        </div>

        <!-- Navigation -->
        <button class="nav-btn prev" aria-label="Previous slide">
          <svg viewBox="0 0 24 24" fill="none"><path d="M15 6l-6 6 6 6" stroke="#111" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>
        <button class="nav-btn next" aria-label="Next slide">
          <svg viewBox="0 0 24 24" fill="none"><path d="M9 6l6 6-6 6" stroke="#111" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>
      </section>

      <!-- Styles -->
      <style>
        /* Avoid layout-induced drift: lock widths and remove gaps */
        *, *::before, *::after { box-sizing: border-box; }

        .slideshow {
          --h: 520px;
          --btn-size: 42px;
          position: relative;
          overflow: hidden;
          border-radius: 16px;
          box-shadow: 0 8px 24px rgba(0,0,0,.12);
          background: #000;
          max-width: 1000px;
          margin: 1.75rem auto;
        }
        .slides {
          display: flex;
          height: var(--h);
          width: 100%;
          transition: transform .5s ease;
          will-change: transform;
        }
        .slide {
          min-width: 100%;   /* exact page width */
          height: var(--h);
          position: relative;
          margin: 0;         /* no margins that can cause drift */
          padding: 0;
        }
        .slide img {
          width: 100%;
          height: 100%;
          object-fit: cover;
          display: block;
        }

        .caption {
          position: absolute; inset: auto 0 0 0;
          background: linear-gradient(transparent, rgba(0,0,0,.75) 40%, rgba(0,0,0,.9));
          color: #fff; padding: .9rem 1rem 1.2rem 1rem;
          text-align: center;
        }
        .caption .subtitle { margin: 0 0 .35rem; font: 700 16px/1.3 system-ui, sans-serif; }
        .caption .desc { margin: 0 auto; font: 400 14px/1.5 system-ui, sans-serif; max-width: 800px; }

        .nav-btn {
          position: absolute; top: 50%; transform: translateY(-50%);
          width: var(--btn-size); height: var(--btn-size);
          border-radius: 999px; border: none; cursor: pointer;
          background: rgba(255,255,255,.85);
          display: grid; place-items: center;
        }
        .nav-btn:hover { background: #fff; }
        .prev { left: .5rem; }
        .next { right: .5rem; }
        .nav-btn svg { width: 22px; height: 22px; }

        @media (max-width: 640px) {
          .slideshow { --h: 380px; }
          .nav-btn { display: none; }
        }
      </style>

      <!-- Script (no dots, no drag; exact 100% steps to prevent drift) -->
      <script>
        (function(){
          const slideshow = document.currentScript.previousElementSibling.previousElementSibling;
          const track = slideshow.querySelector('.slides');
          const slides = Array.from(slideshow.querySelectorAll('.slide'));
          const btnPrev = slideshow.querySelector('.prev');
          const btnNext = slideshow.querySelector('.next');

          let index = 0;
          const autoplay = slideshow.getAttribute('data-autoplay') === 'true';
          const interval = parseInt(slideshow.getAttribute('data-interval') || '3500', 10);
          let timer = null;

          function update() {
            const x = -index * 100; // whole-number percentage avoids cumulative rounding
            track.style.transform = `translate3d(${x}%, 0, 0)`;
          }
          function goTo(i, restart=true) {
            index = (i + slides.length) % slides.length;
            update();
            if (restart) restartAutoplay();
          }
          function next(restart=true){ goTo(index + 1, restart); }
          function prev(restart=true){ goTo(index - 1, restart); }

          btnNext.addEventListener('click', () => next(true));
          btnPrev.addEventListener('click', () => prev(true));

          // Keyboard support
          slideshow.tabIndex = 0;
          slideshow.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') next(true);
            if (e.key === 'ArrowLeft')  prev(true);
          });

          function startAutoplay(){
            if (!autoplay) return;
            stopAutoplay();
            timer = setInterval(() => next(false), interval);
          }
          function stopAutoplay(){ if (timer) { clearInterval(timer); timer = null; } }
          function restartAutoplay(){ stopAutoplay(); startAutoplay(); }

          // Optional: pause on hover
          slideshow.addEventListener('mouseenter', stopAutoplay);
          slideshow.addEventListener('mouseleave', startAutoplay);

          // Initialize
          update();
          startAutoplay();

          // Re-align on resize (keeps things tight if viewport changes)
          window.addEventListener('resize', update);
        })();
      </script>
    </article>
      
      <!-- PDF Auto-Slideshow -->
      <section class="pdfshow" id="pdfShow"
               data-src="../images/Copy of Engineering Project Proposal by Slidesgo.pdf"
               data-interval="3500"
               data-loop="true"
               data-autoplay="true">
        <div class="pdfstage">
          <canvas id="pdfCanvas" aria-label="Slide canvas"></canvas>
        </div>

        <!-- Navigation -->
        <button class="nav-btn prev" aria-label="Previous slide">
          <svg viewBox="0 0 24 24" fill="none"><path d="M15 6l-6 6 6 6" stroke="#111" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>
        <button class="nav-btn next" aria-label="Next slide">
          <svg viewBox="0 0 24 24" fill="none"><path d="M9 6l6 6-6 6" stroke="#111" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>

        <!-- Controls -->
        <div class="controls" role="toolbar" aria-label="PDF controls">
          <button id="togglePlay" aria-pressed="true">⏸ Pause</button>
          <span class="page-indicator"><span id="pageNum">1</span> / <span id="pageCount">—</span></span>
        </div>
      </section>

    </article>
  </main>

  <footer>
    <div class="container"><p>&copy; 2025 Adham Abdelrahim.</p></div>
  </footer>

  <script src="../script.js"></script>

  <!-- === PDF.js v3 (stable classic worker) === -->
  <script src="https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.min.js"></script>
  <script>
    pdfjsLib.GlobalWorkerOptions.workerSrc =
      "https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js";

    (function(){
      const root = document.getElementById('pdfShow');
      const pdfUrl = root.getAttribute('data-src');
      const autoplayDefault = root.getAttribute('data-autoplay') === 'true';
      const loop = root.getAttribute('data-loop') === 'true';
      const intervalMs = parseInt(root.getAttribute('data-interval') || '4000', 10);

      const canvas = document.getElementById('pdfCanvas');
      const ctx = canvas.getContext('2d');
      const btnPrev = root.querySelector('.prev');
      const btnNext = root.querySelector('.next');
      const btnToggle = document.getElementById('togglePlay');
      const pageNumEl = document.getElementById('pageNum');
      const pageCountEl = document.getElementById('pageCount');

      let pdfDoc = null, pageNum = 1, rendering = false, pending = null;
      let autoplay = autoplayDefault, timer = null;

      function fitViewport(page){
        const container = root.querySelector('.pdfstage');
        const W = container.clientWidth, H = container.clientHeight;
        const vp1 = page.getViewport({ scale: 1 });
        const scale = Math.min(W / vp1.width, H / vp1.height);
        return page.getViewport({ scale });
      }

      function render(num){
        rendering = true;
        pdfDoc.getPage(num).then(page => {
          const vp = fitViewport(page);
          canvas.width = Math.floor(vp.width);
          canvas.height = Math.floor(vp.height);
          page.render({ canvasContext: ctx, viewport: vp }).promise.then(() => {
            rendering = false;
            pageNumEl.textContent = pageNum;
            if (pending !== null){ const n = pending; pending = null; render(n); }
          });
        }).catch(err=>console.error(err));
      }
      function queue(num){ rendering ? pending = num : render(num); }

      function next(pause=true){
        if (pageNum >= pdfDoc.numPages) pageNum = loop ? 1 : pdfDoc.numPages;
        else pageNum++;
        queue(pageNum); if(pause) restart();
      }
      function prev(pause=true){
        if (pageNum <= 1) pageNum = loop ? pdfDoc.numPages : 1;
        else pageNum--;
        queue(pageNum); if(pause) restart();
      }

      function start(){ if(!autoplay) return; stop(); timer=setInterval(()=>next(false), intervalMs); btnToggle.textContent='⏸ Pause'; }
      function stop(){ if(timer){ clearInterval(timer); timer=null; } btnToggle.textContent='▶️ Play'; }
      function restart(){ stop(); start(); }

      btnNext.addEventListener('click', ()=>next(true));
      btnPrev.addEventListener('click', ()=>prev(true));
      btnToggle.addEventListener('click', ()=>{ autoplay=!autoplay; autoplay?start():stop(); });

      root.tabIndex = 0;
      root.addEventListener('keydown', e=>{
        if(e.key==='ArrowRight') next(true);
        if(e.key==='ArrowLeft') prev(true);
        if(e.key===' '){ e.preventDefault(); btnToggle.click(); }
      });

      root.addEventListener('mouseenter', stop);
      root.addEventListener('mouseleave', start);

      pdfjsLib.getDocument(pdfUrl).promise.then(pdf=>{
        pdfDoc=pdf;
        pageCountEl.textContent=pdfDoc.numPages;
        render(pageNum);
        start();
        window.addEventListener('resize', ()=>queue(pageNum));
      }).catch(err=>{
        console.error("PDF load error:",err);
        const iframe=document.createElement('iframe');
        iframe.src=pdfUrl; iframe.width="100%"; iframe.height="560"; iframe.style.border="none";
        root.innerHTML=""; root.appendChild(iframe);
      });
    })();
  </script>
</body>
</html>

